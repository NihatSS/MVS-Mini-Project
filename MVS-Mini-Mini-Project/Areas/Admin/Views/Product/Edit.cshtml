@model ProductCreateVM

<div class="container mt-5">
    <h3 class="text-center">Edit Product</h3>
    <form asp-action="Edit" asp-route-id="@Model.Product.Id" method="post" enctype="multipart/form-data">
        <input type="text" asp-for="Product.Name" class="form-control mt-5" placeholder="Enter product's name..." />
        <span class="text-danger d-block" asp-validation-for="Product.Name"></span>

        <input type="text" asp-for="Product.Desc" class="form-control mt-3" placeholder="Enter product's description..." />
        <span class="text-danger d-block" asp-validation-for="Product.Desc"></span>

        <input type="number" asp-for="Product.Price" class="form-control mt-3" placeholder="Enter product's price..." />
        <span class="text-danger d-block" asp-validation-for="Product.Price"></span>

        <span>Category:</span>
        <select class="form-select mt-3" asp-for="Product.CategoryId" aria-label="Select Category">
            @foreach (var item in Model.Categories)
            {
                <option value="@item.Id">@item.Name</option>
            }
        </select>
        <br />

        <span>Ban type:</span>
        <select class="form-select mt-3" asp-for="Product.BanTypeId" aria-label="Select Ban Type">
            @foreach (var item in Model.BanTypes)
            {
                <option value="@item.Id">@item.Name</option>
            }
        </select>
        <br />

        <span>Discount:</span>
        <select class="form-select mt-3" asp-for="Product.DiscountId" aria-label="Select Discount">
            @foreach (var item in Model.Discounts)
            {
                <option value="@item.Id">@item.Name</option>
            }
        </select>
        <br />
        
        <div class="mt-3">
            <h5>Existing Images</h5>
            <div class="d-flex flex-wrap">
                @foreach (var image in Model.Product.Images)
                {
                    <div class="p-2">
                        <img src="~/assets/img/@image.Image" alt="" style="width: 100px; height: 100px; @( image.IsMain ? "border: 5px solid green" : "");" />
                    </div>
                }
            </div>
        </div>

        <!-- File upload for new images -->
        <input asp-for="Product.UploadedImages" type="file" class="form-control mt-3" multiple />
        <span class="text-danger d-block" asp-validation-for="Product.UploadedImages"></span>

        <button type="submit" class="btn btn-success mr-2 mt-3">Update</button>
        <a asp-action="Index" class="btn btn-primary mx-2 mt-3">Cancel</a>
    </form>
</div>
